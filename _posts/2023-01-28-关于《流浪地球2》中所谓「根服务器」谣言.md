---
layout: post
title: å…³äºŽã€Šæµæµªåœ°çƒ2ã€‹ä¸­æ‰€è°“ã€Œæ ¹æœåŠ¡å™¨ã€è°£è¨€
date: 2023-01-28 19:50:47 +0800
tag: [é€šä¿¡]
---

> æµæµªåœ°çƒ2ä¸­æåˆ°çš„ä¸»æ ¹æœåŠ¡å™¨åœ¨ä¸­å›½ã€æ—¥æœ¬ã€ç¾Žå›½æ˜¯äº‹å®žã€‚å…¨çƒIPv6æ ¹æœåŠ¡å™¨ä¸€å…±25å°ï¼Œåªæœ‰ä¸‰å°ä¸»æ ¹æœåŠ¡å™¨ï¼Œåˆ†å¸ƒåœ¨ä¸­æ—¥ç¾Žï¼Œå…¶ä½™éƒ½ä¸ºè¾…æ ¹æœåŠ¡å™¨ã€‚ï¼ˆé™¤äº†æœ‰ä¸€å°ä¸»æ ¹æœåŠ¡å™¨ï¼ŒðŸ‡¨ðŸ‡³è¿˜æœ‰3å°è¾…æ ¹æœåŠ¡å™¨ï¼Œæ˜¯éƒ¨ç½²æ ¹æœåŠ¡å™¨æœ€å¤šçš„å›½å®¶ã€‚ï¼‰  
> å› ä¸ºæœ¬äººå·¥ä½œå°±æ˜¯ç½‘ç»œå®‰å…¨ç›¸å…³çš„ï¼Œçœ‹ç”µå½±çš„æ—¶å€™è¿˜æœ‰ä¸€ç‚¹ç‚¹ä»£å…¥æ„Ÿã€‚è¿™ä¸ªè§†é¢‘æ˜¯ä¹‹å‰åœ¨åŠžå…¬å®¤é¢†å¯¼å¸¦æˆ‘ä»¬ä¸€èµ·çœ‹çš„ï¼ŒçœŸçš„è›®ç²¾å½©è›®éœ‡æ’¼ã€‚  
> â€¦â€¦ç½‘ç»œå®‰å…¨è¿™ä¸ªèŒƒå›´å¾ˆå¹¿ï¼Œä¸è¿‡æˆ‘å¸ä¸šåŠ¡ç¡®å®žæ˜¯å…¶ä¸­çš„ä¸€æ–¹é¢ï¼Œæˆ‘æœ¬äººä¸æ˜¯ç›¸å…³ä¸“ä¸šçš„ï¼Œä½†æˆ‘è¿™æ®µæ—¶é—´çš„å·¥ä½œä¹Ÿä¸€ç›´åœ¨æŽ¥è§¦è¿™äº›æŠ€æœ¯ä¸“ä¸šçŸ¥è¯†ï¼Œæˆ‘ä»¬çš„æŠ€æœ¯åŒäº‹å¾ˆå¤šä¹Ÿä¸æ˜¯ç§‘ç­å‡ºèº«ï¼Œä½†ä»–ä»¬å¾ˆä¼˜ç§€  
>  
> è½¬å‘2.7ä¸‡ è¯„è®º1635 èµž4.4ä¸‡

> æˆ‘åœ¨æ—¥æœ¬è¯»ä¹¦é‚£ä¼šï¼Œä¸Šé€šä¿¡ç½‘è¯¾ç¨‹ï¼Œæ—¥æœ¬æ•™æŽˆè¯´å…¨çƒ13å°æ ¹æœåŠ¡å™¨ï¼Œéƒ½åœ¨ç¾Žå›½æ¬§æ´²æ—¥æœ¬ï¼Œä¸­å›½â€”â€”zeroã€‚æ•™æŽˆæ˜¯å®žè¯å®žè¯´ï¼Œä½†æˆ‘å¿ƒé‡Œä¸ç—›å¿«ï¼Œæ²¡æƒ³åˆ°å•Šï¼Œè¿™æ‰äº”å¹´ï¼ipv6æœåŠ¡å™¨åœ¨ä¸­å›½äº†ï¼Œè¿˜æ˜¯ä¸»æ ¹æœåŠ¡å™¨ï¼  
>  
> èµž3522

> å—·ï¼ŒåŽçŸ¥åŽè§‰æµæµªåœ°çƒ2è¯´çš„åŒ—äº¬æ ¹æœåŠ¡å™¨æŒ‡çš„æ˜¯IPv6åè®®çš„æ ¹æœåŠ¡å™¨ï¼æˆ‘è¯´æ€Žä¹ˆåŒ—äº¬ä¼šæœ‰æ ¹æœåŠ¡å™¨ï¼ŒçœŸçš„å¤–å®£ä¸€éƒ¨ç”µå½±é¡¶ä½ ä¸€å¹´çš„ç ´æ­£èƒ½é‡è§†é¢‘[æ€’][æ€’][æ€’]

> æµæµªåœ°çƒ2æœ‰ä¸€ä¸ªæƒ…èŠ‚æ˜¯å…¨çƒ3ä¸ªæ ¹æœåŠ¡å™¨ï¼Œè¿™ä¸ªæ˜¯çœŸå®žæƒ…å†µã€‚ä¸­å›½IPv6æ ¹æœåŠ¡æœ‰1ä¸ªæ ¹æœåŠ¡å™¨å’Œ3ä¸ªè¾…æ ¹æœåŠ¡å™¨ã€‚æ ¹æœåŠ¡å™¨å¦‚æžœæ•…éšœï¼Œä¸­å›½äº’è”ç½‘å°±ä¼šé©¬ä¸Šç˜«ç—ªï¼Œè€Œä¸”å¦‚æžœåƒåœ¨IPv4æ—¶ä»£ä¸­å›½æ²¡æœ‰æ ¹æœåŠ¡å™¨ï¼Œä¸­å›½çš„äº’è”ç½‘ä¸ä½†ä¼šæš´éœ²åœ¨ç¾Žå›½ç›‘æŽ§ä¸‹ï¼Œè€Œä¸”éšæ—¶å¯ä»¥è¢«ç¾Žå›½ç˜«ç—ªæŽ‰ã€‚å¤§å›½çš„å„ç§å®‰å…¨éƒ½ä¸å®¹æ˜“ï¼Œä¸­å›½äº’è”ç½‘çš„å‘å±•ä¹Ÿæ˜¯ç»åŽ†äº†åƒè¾›ä¸‡è‹¦ä¸Žæ— æ•°å¹•åŽè‹±é›„ä»˜å‡ºäº†ç‰ºç‰²ã€‚

> æµæµªåœ°çƒ2ä¸­çš„äº’è”ç½‘æ ¹æœåŠ¡å™¨ä¸ºä»€ä¹ˆåœ¨åŒ—äº¬ï¼Ÿ  
> å› ä¸ºipv6çš„æœåŠ¡å™¨åœ¨åŒ—äº¬ï¼Œæ˜¯ä¸­å›½å·¥ç¨‹å¸ˆè¿‘20å¹´åŠªåŠ›çš„ç»“æžœ

***

æ ¹æ®ã€Œ25å°æ ¹æœåŠ¡å™¨ã€ã€ã€Œä¸€ä¸»ä¸‰è¾…åœ¨ä¸­å›½ã€ç­‰æ•°å­—ç‰¹å¾ï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šè¿™å°±æ˜¯[RFC 8483](https://datatracker.ietf.org/doc/html/rfc8483)ä¸­æè¿°çš„ã€ŒYeti DNS Testbedã€ï¼Œä¹Ÿå°±æ˜¯ã€Œé›ªäººè®¡åˆ’ã€ã€‚

ã€ŒYeti DNS Testbedã€æ˜¯ä»€ä¹ˆå‘¢ï¼ŸRFCä¸Šæ¥å°±ç»™å‡ºäº†è¯¥é¡¹ç›®çš„ç”¨é€”ã€‚

```
Yeti DNS is an experimental, non-production root server testbed that
provides an environment where technical and operational experiments
can safely be performed without risk to production root server
infrastructure.
```

è¯¥RFCå¯¹æ–‡æ¡£è‡ªèº«æ€§è´¨çš„å™è¿°éžå¸¸è°¨æ…Žï¼š

```
This document aims solely to document the technical
and operational experience of deploying a system that is similar to
but different from the Root Server system (on which the Internet's
Domain Name System is designed and built).

This document is not an Internet Standards Track specification; it is
published for informational purposes.

This is a contribution to the RFC Series, independently of any other
RFC stream.  The RFC Editor has chosen to publish this document at
its discretion and makes no statement about its value for
implementation or deployment.  Documents approved for publication by
the RFC Editor are not candidates for any level of Internet Standard;
see Section 2 of RFC 7841.
```

æ‰€è°“çš„ä¸­ç¾Žæ—¥ä¸‰å°ã€Œä¸»æ ¹ã€ï¼Œåœ¨æ–‡æ¡£ä¸­è¢«ç§°ä¸ºã€Œcoordinatorã€ï¼š
```
The three coordinators of the Yeti DNS testbed:
BII : Beijing Internet Institute
WIDE: Widely Integrated Distributed Environment Project
TISF: A collaborative engineering and security project by Paul Vixie
```

å…·ä½“çš„25å°ã€ŒYeti-Root Serverã€å¦‚ä¸‹ï¼š
```
+-------------------------------------+---------------+-------------+
| Name                                | Operator      | Location    |
+-------------------------------------+---------------+-------------+
| bii.dns-lab.net                     | BII           | CHINA       |
| yeti-ns.tsif.net                    | TSIF          | USA         |
| yeti-ns.wide.ad.jp                  | WIDE Project  | Japan       |
| yeti-ns.as59715.net                 | as59715       | Italy       |
| dahu1.yeti.eu.org                   | Dahu Group    | France      |
| ns-yeti.bondis.org                  | Bond Internet | Spain       |
|                                     | Systems       |             |
| yeti-ns.ix.ru                       | Russia        | MSK-IX      |
| yeti.bofh.priv.at                   | CERT Austria  | Austria     |
| yeti.ipv6.ernet.in                  | ERNET India   | India       |
| yeti-dns01.dnsworkshop.org          | dnsworkshop   | Germany     |
|                                     | /informnis    |             |
| dahu2.yeti.eu.org                   | Dahu Group    | France      |
| yeti.aquaray.com                    | Aqua Ray SAS  | France      |
| yeti-ns.switch.ch                   | SWITCH        | Switzerland |
| yeti-ns.lab.nic.cl                  | NIC Chile     | Chile       |
| yeti-ns1.dns-lab.net                | BII           | China       |
| yeti-ns2.dns-lab.net                | BII           | China       |
| yeti-ns3.dns-lab.net                | BII           | China       |
| ca978112ca1bbdcafac231b39a23dc.     |               |             |
|                         yeti-dns.net| Yeti-ZA       | South       |
|                                     |               | Africa      |
| 3f79bb7b435b05321651daefd374cd.     |               |             |
|                         yeti-dns.net| Yeti-AU       | Australia   |
| yeti1.ipv6.ernet.in                 | ERNET India   | India       |
| xn--r2bi1c.xn--h2bv6c0a.xn--h2brj9c | ERNET India   | India       |
| yeti-dns02.dnsworkshop.org          | dnsworkshop   | USA         |
|                                     | /informnis    |             |
| yeti.mind-dns.nl                    | Monshouwer    | Netherlands |
|                                     | Internet      |             |
|                                     | Diensten      |             |
| yeti-ns.datev.net                   | DATEV         | Germany     |
| yeti.jhcloos.net                    | jhcloos       | USA         |
+-------------------------------------+---------------+-------------+
```

æœ€å·¦è¾¹ä¸€åˆ—æ˜¯æ ¹æœåŠ¡å™¨çš„åŸŸåï¼Œæˆ‘ä»¬å¯ä»¥è‡ªè¡Œå¯¹å…¶åš`ping`ã€`nslookup`ã€`dig`ç­‰æµ‹è¯•ã€‚ã€ŒYeti-Root Serverã€æ˜¯IPv6-onlyçš„ï¼Œå› æ­¤åœ¨macOSä¸Šéœ€è¦ä½¿ç”¨`ping6`è€Œä¸æ˜¯`ping`ã€‚
```
$ ping6 bii.dns-lab.net -c 4
PING6(56=40+8+8 bytes) --> 240c:f:1:22::6
16 bytes from 240c:f:1:22::6, icmp_seq=0 hlim=49 time=32.110 ms
16 bytes from 240c:f:1:22::6, icmp_seq=1 hlim=49 time=38.273 ms
16 bytes from 240c:f:1:22::6, icmp_seq=2 hlim=49 time=35.950 ms
16 bytes from 240c:f:1:22::6, icmp_seq=3 hlim=49 time=36.325 ms

--- bii.dns-lab.net ping6 statistics ---
4 packets transmitted, 4 packets received, 0.0% packet loss
round-trip min/avg/max/std-dev = 32.110/35.665/38.273/2.234 ms

$ ping6 yeti-ns1.dns-lab.net -c 4
PING6(56=40+8+8 bytes) --> 240e:eb:8001:e01::53
16 bytes from 240e:eb:8001:e01::53, icmp_seq=0 hlim=50 time=39.958 ms
16 bytes from 240e:eb:8001:e01::53, icmp_seq=1 hlim=50 time=39.279 ms
16 bytes from 240e:eb:8001:e01::53, icmp_seq=2 hlim=50 time=39.236 ms
16 bytes from 240e:eb:8001:e01::53, icmp_seq=3 hlim=50 time=40.048 ms

--- yeti-ns1.dns-lab.net ping6 statistics ---
4 packets transmitted, 4 packets received, 0.0% packet loss
round-trip min/avg/max/std-dev = 39.236/39.630/40.048/0.374 ms

$ ping6 yeti-ns2.dns-lab.net -c 4
PING6(56=40+8+8 bytes) --> 2408:4006:1201:9c00::66
16 bytes from 2408:4006:1201:9c00::66, icmp_seq=0 hlim=52 time=41.224 ms
16 bytes from 2408:4006:1201:9c00::66, icmp_seq=1 hlim=52 time=41.170 ms
16 bytes from 2408:4006:1201:9c00::66, icmp_seq=2 hlim=52 time=41.217 ms
16 bytes from 2408:4006:1201:9c00::66, icmp_seq=3 hlim=52 time=46.022 ms

--- yeti-ns2.dns-lab.net ping6 statistics ---
4 packets transmitted, 4 packets received, 0.0% packet loss
round-trip min/avg/max/std-dev = 41.170/42.408/46.022/2.087 ms

$ ping6 yeti-ns3.dns-lab.net -c 4
PING6(56=40+8+8 bytes) --> 240e:6b0:200::139
16 bytes from 240e:6b0:200::139, icmp_seq=0 hlim=54 time=40.582 ms
16 bytes from 240e:6b0:200::139, icmp_seq=1 hlim=54 time=42.216 ms
16 bytes from 240e:6b0:200::139, icmp_seq=2 hlim=54 time=39.957 ms
16 bytes from 240e:6b0:200::139, icmp_seq=3 hlim=54 time=43.100 ms

--- yeti-ns3.dns-lab.net ping6 statistics ---
4 packets transmitted, 4 packets received, 0.0% packet loss
round-trip min/avg/max/std-dev = 39.957/41.464/43.100/1.254 ms

$ dig @yeti-ns3.dns-lab.net com.

; <<>> DiG 9.10.6 <<>> @yeti-ns3.dns-lab.net com.
; (1 server found)
;; global options: +cmd
;; Got answer:
;; ->>HEADER<<- opcode: QUERY, status: NOERROR, id: 16817
;; flags: qr rd; QUERY: 1, ANSWER: 0, AUTHORITY: 13, ADDITIONAL: 27
;; WARNING: recursion requested but not available

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 1232
;; QUESTION SECTION:
;com.                           IN      A

;; AUTHORITY SECTION:
com.                    172800  IN      NS      i.gtld-servers.net.
com.                    172800  IN      NS      l.gtld-servers.net.
com.                    172800  IN      NS      g.gtld-servers.net.
com.                    172800  IN      NS      c.gtld-servers.net.
com.                    172800  IN      NS      d.gtld-servers.net.
com.                    172800  IN      NS      a.gtld-servers.net.
com.                    172800  IN      NS      j.gtld-servers.net.
com.                    172800  IN      NS      f.gtld-servers.net.
com.                    172800  IN      NS      h.gtld-servers.net.
com.                    172800  IN      NS      k.gtld-servers.net.
com.                    172800  IN      NS      e.gtld-servers.net.
com.                    172800  IN      NS      m.gtld-servers.net.
com.                    172800  IN      NS      b.gtld-servers.net.

;; ADDITIONAL SECTION:
a.gtld-servers.net.     172800  IN      AAAA    2001:503:a83e::2:30
b.gtld-servers.net.     172800  IN      AAAA    2001:503:231d::2:30
c.gtld-servers.net.     172800  IN      AAAA    2001:503:83eb::30
d.gtld-servers.net.     172800  IN      AAAA    2001:500:856e::30
e.gtld-servers.net.     172800  IN      AAAA    2001:502:1ca1::30
f.gtld-servers.net.     172800  IN      AAAA    2001:503:d414::30
g.gtld-servers.net.     172800  IN      AAAA    2001:503:eea3::30
h.gtld-servers.net.     172800  IN      AAAA    2001:502:8cc::30
i.gtld-servers.net.     172800  IN      AAAA    2001:503:39c1::30
j.gtld-servers.net.     172800  IN      AAAA    2001:502:7094::30
k.gtld-servers.net.     172800  IN      AAAA    2001:503:d2d::30
l.gtld-servers.net.     172800  IN      AAAA    2001:500:d937::30
m.gtld-servers.net.     172800  IN      AAAA    2001:501:b1f9::30
a.gtld-servers.net.     172800  IN      A       192.5.6.30
b.gtld-servers.net.     172800  IN      A       192.33.14.30
c.gtld-servers.net.     172800  IN      A       192.26.92.30
d.gtld-servers.net.     172800  IN      A       192.31.80.30
e.gtld-servers.net.     172800  IN      A       192.12.94.30
f.gtld-servers.net.     172800  IN      A       192.35.51.30
g.gtld-servers.net.     172800  IN      A       192.42.93.30
h.gtld-servers.net.     172800  IN      A       192.54.112.30
i.gtld-servers.net.     172800  IN      A       192.43.172.30
j.gtld-servers.net.     172800  IN      A       192.48.79.30
k.gtld-servers.net.     172800  IN      A       192.52.178.30
l.gtld-servers.net.     172800  IN      A       192.41.162.30
m.gtld-servers.net.     172800  IN      A       192.55.83.30

;; Query time: 42 msec
;; SERVER: 240e:6b0:200::139#53(240e:6b0:200::139)
;; WHEN: Sat Jan 28 16:58:34 CST 2023
;; MSG SIZE  rcvd: 828
```

å¯ä»¥çœ‹åˆ°4å°ä½äºŽä¸­å›½çš„ã€ŒYeti-Root Serverã€å¯ä»¥æ­£å¸¸è¿ä½œã€‚DNS root serverä¸ºç”¨æˆ·æä¾›çš„æœåŠ¡å³æ˜¯å¦‚æ­¤ã€‚

***

æ€»ä¹‹ï¼ŒRFCä¸­æè¿°çš„é›ªäººæ ¹æœåŠ¡å™¨å’Œå¼€å¤´å¼•ç”¨çš„ç½‘å‹ç†è§£å¯ä»¥è¯´éžå¸¸ä¸åŒï¼Œå‡ ä¹Žæ²¡æœ‰å…³ç³»ã€‚é•¿æœŸä»¥æ¥æˆ‘ä»¬çš„åª’ä½“ä¸Šæ ¹æœåŠ¡å™¨çš„è°£è¨€ç¥žä¹Žå…¶ç¥žï¼Œä¸ç€è¾¹é™…ï¼Œè¿‘ä¹ŽäºŽ[äºŒæ°¢å¦‡å¥³](https://www.163.com/dy/article/FALQBH7205485LK0.html)å’Œ[æŠ˜æ¯›](https://baike.baidu.com/item/%E6%8A%98%E6%AF%9B/61697271)çš„èƒ¡æ‰¯ã€‚å¦‚æžœä¸€éƒ¨ã€Œç§‘å¹»ç”µå½±ã€æ•™ç»™äººä»¬ä¹Ÿæ˜¯è¿™æ ·çš„äº’è”ç½‘çŸ¥è¯†ï¼Œé‚£æˆ‘ç›¸ä¿¡æˆ‘ä»¬ä»Žä¸šäººå‘˜å¯ä»¥æ°¸è¿œç¼–æ•…äº‹å‘é’±ã€‚ç¨‹åºå‘˜è®²çš„éƒ½æ˜¯æŠ€æœ¯ï¼ä¸å¯èƒ½æ˜¯éª—äººçš„ï¼
